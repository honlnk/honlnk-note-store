# Flutter é¡¹ç›®æ¶æ„æ–‡æ¡£

## ğŸ“ é¡¹ç›®ç»“æ„

åŸºäºå¯¹åŸVueé¡¹ç›®åˆ†æï¼Œæˆ‘å·²ä¸ºæ‚¨åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„Flutteré¡¹ç›®æ¶æ„ã€‚ä»¥ä¸‹æ˜¯é¡¹ç›®çš„ç»„ç»‡ç»“æ„ï¼š

```
lib/
â”œâ”€â”€ core/                    # æ ¸å¿ƒé…ç½®å’Œå·¥å…·
â”‚   â”œâ”€â”€ constants/           # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ app_constants.dart
â”‚   â”œâ”€â”€ theme/              # ä¸»é¢˜é…ç½®
â”‚   â”‚   â””â”€â”€ app_theme.dart
â”‚   â””â”€â”€ utils/              # å·¥å…·ç±»
â”‚       â”œâ”€â”€ http_util.dart  # HTTPç½‘ç»œè¯·æ±‚å·¥å…·
â”‚       â””â”€â”€ storage_util.dart # æœ¬åœ°å­˜å‚¨å·¥å…·
â”œâ”€â”€ data/                   # æ•°æ®å±‚
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ admin_key.dart
â”‚   â”‚   â”œâ”€â”€ admin_setup_info.dart
â”‚   â”‚   â”œâ”€â”€ api_response.dart
â”‚   â”‚   â””â”€â”€ rota_entry.dart
â”‚   â”œâ”€â”€ services/           # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ admin_api_service.dart
â”‚   â””â”€â”€ repositories/       # æ•°æ®ä»“åº“ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ providers/              # çŠ¶æ€ç®¡ç†ï¼ˆRiverpodï¼‰
â”‚   â””â”€â”€ admin_provider.dart
â”œâ”€â”€ presentation/           # è¡¨ç°å±‚ï¼ˆUIï¼‰
â”‚   â”œâ”€â”€ pages/              # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ home/           # é¦–é¡µæ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ home_page.dart
â”‚   â”‚   â”œâ”€â”€ admin/          # ç®¡ç†å‘˜æ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ generate_key_page.dart
â”‚   â”‚   â”œâ”€â”€ timetable/      # è¯¾ç¨‹è¡¨æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ upload_course_page.dart
â”‚   â”‚   â”‚   â””â”€â”€ update_course_page.dart
â”‚   â”‚   â””â”€â”€ rota/           # å€¼ç­è¡¨æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ view_rota_page.dart
â”‚   â”‚       â””â”€â”€ generate_rota_page.dart
â”‚   â””â”€â”€ widgets/            # å¯å¤ç”¨ç»„ä»¶
â”‚       â””â”€â”€ common/         # é€šç”¨ç»„ä»¶
â”œâ”€â”€ routes/                 # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ app_router.dart
â””â”€â”€ main.dart              # åº”ç”¨å…¥å£
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡åŸåˆ™

### 1. åˆ†å±‚æ¶æ„ (Layered Architecture)
- **è¡¨ç°å±‚ (Presentation)**: UIç»„ä»¶å’Œé¡µé¢
- **ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic)**: çŠ¶æ€ç®¡ç†å’Œä¸šåŠ¡è§„åˆ™
- **æ•°æ®å±‚ (Data)**: æ•°æ®æ¨¡å‹ã€APIæœåŠ¡å’Œæ•°æ®ä»“åº“

### 2. ä¾èµ–æ³¨å…¥å’ŒçŠ¶æ€ç®¡ç†
- ä½¿ç”¨ **Riverpod** è¿›è¡ŒçŠ¶æ€ç®¡ç†å’Œä¾èµ–æ³¨å…¥
- é‡‡ç”¨ **Provideræ¨¡å¼** ç®¡ç†åº”ç”¨çŠ¶æ€

### 3. å•ä¸€èŒè´£åŸåˆ™
- æ¯ä¸ªæ–‡ä»¶å’Œç±»éƒ½æœ‰æ˜ç¡®çš„èŒè´£
- æ•°æ®æ¨¡å‹åªè´Ÿè´£æ•°æ®ç»“æ„
- æœåŠ¡ç±»åªè´Ÿè´£APIè°ƒç”¨
- UIç»„ä»¶åªè´Ÿè´£ç•Œé¢æ˜¾ç¤º

## ğŸ“Š Vue â†’ Flutter åŠŸèƒ½æ˜ å°„

### åŸVueé¡¹ç›®åˆ†æç»“æœï¼š
- **ä¸»è¦åŠŸèƒ½**: é€é›æ’ç¨‹ç³»ç»Ÿ
- **æ ¸å¿ƒæ¨¡å—**: 
  - Adminï¼ˆç®¡ç†å‘˜ï¼‰ï¼šç”Ÿæˆå¯†é’¥ã€ç®¡ç†å€¼ç­è¡¨
  - Timetableï¼ˆè¯¾ç¨‹è¡¨ï¼‰ï¼šä¸Šä¼ å’Œä¿®æ”¹è¯¾ç¨‹è¡¨
  - Rotaï¼ˆå€¼ç­è¡¨ï¼‰ï¼šæŸ¥çœ‹å’Œç”Ÿæˆå€¼ç­è¡¨
  - Homeï¼ˆé¦–é¡µï¼‰ï¼šåŠŸèƒ½å¯¼èˆª

### Flutterå®ç°ç­–ç•¥ï¼š

#### 1. çŠ¶æ€ç®¡ç†æ˜ å°„
```
Vue Pinia Store â†’ Flutter Riverpod Provider
- AdminStores.js â†’ AdminProvider
- UserStores.js â†’ UserProvider (å¾…å®ç°)
- PublicStores.js â†’ PublicProvider (å¾…å®ç°)
```

#### 2. APIæœåŠ¡æ˜ å°„
```
Vue API Services â†’ Flutter Services
- AdminApi.js â†’ AdminApiService
- UserApi.js â†’ UserApiService (å¾…å®ç°)
- PublicApi.js â†’ PublicApiService (å¾…å®ç°)
```

#### 3. è·¯ç”±æ˜ å°„
```
Vue Router â†’ Flutter Named Routes
- PromptHome â†’ HomePage
- indexAdminkey â†’ GenerateKeyPage
- indexTimeTable â†’ UploadCoursePage
- updateTimeTable â†’ UpdateCoursePage
- indexRota â†’ ViewRotaPage
- generateRota â†’ GenerateRotaPage
```

## ğŸ”§ æŠ€æœ¯æ ˆå¯¹æ¯”

| åŠŸèƒ½ | Vueé¡¹ç›® | Flutteré¡¹ç›® |
|-----|---------|-------------|
| çŠ¶æ€ç®¡ç† | Pinia | Riverpod |
| è·¯ç”±ç®¡ç† | Vue Router | Named Routes / Go Router |
| HTTPè¯·æ±‚ | Axios | Dio |
| æœ¬åœ°å­˜å‚¨ | Pinia Persist | SharedPreferences |
| UIç»„ä»¶ | Element Plus | Material Design |
| æ—¥æœŸå¤„ç† | DayJS | Intl |

## ğŸš€ å¼€å‘æŒ‡å—

### 1. æ·»åŠ æ–°é¡µé¢
1. åœ¨ `lib/presentation/pages/` ç›¸åº”æ¨¡å—ä¸‹åˆ›å»ºé¡µé¢æ–‡ä»¶
2. åœ¨ `lib/core/constants/app_constants.dart` æ·»åŠ è·¯ç”±å¸¸é‡
3. åœ¨ `lib/main.dart` æˆ– `lib/routes/app_router.dart` é…ç½®è·¯ç”±

### 2. æ·»åŠ æ–°çš„æ•°æ®æ¨¡å‹
1. åœ¨ `lib/data/models/` ä¸‹åˆ›å»ºæ¨¡å‹æ–‡ä»¶
2. å®ç° `fromJson()` å’Œ `toJson()` æ–¹æ³•
3. æ·»åŠ  `copyWith()` æ–¹æ³•ç”¨äºä¸å¯å˜æ›´æ–°

### 3. æ·»åŠ æ–°çš„APIæœåŠ¡
1. åœ¨ `lib/data/services/` ä¸‹åˆ›å»ºæœåŠ¡æ–‡ä»¶
2. ä½¿ç”¨ `HttpUtil` è¿›è¡Œç½‘ç»œè¯·æ±‚
3. è¿”å› `ApiResponse<T>` æ ¼å¼çš„å“åº”

### 4. æ·»åŠ çŠ¶æ€ç®¡ç†
1. åœ¨ `lib/providers/` ä¸‹åˆ›å»ºProvideræ–‡ä»¶
2. ç»§æ‰¿ `StateNotifier` å®šä¹‰çŠ¶æ€ç±»
3. ä½¿ç”¨ `StateNotifierProvider` åˆ›å»ºProvider

## ğŸ“ å½“å‰çŠ¶æ€

### âœ… å·²å®Œæˆ
- [x] é¡¹ç›®ç›®å½•ç»“æ„åˆ›å»º
- [x] æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆå¸¸é‡ã€ä¸»é¢˜ã€å·¥å…·ç±»ï¼‰
- [x] æ•°æ®æ¨¡å‹å®šä¹‰
- [x] åŸºç¡€é¡µé¢æ¡†æ¶
- [x] è·¯ç”±é…ç½®åŸºç¡€
- [x] çŠ¶æ€ç®¡ç†åŸºç¡€ç»“æ„

### ğŸš§ å¾…å®Œæˆ
- [ ] ç½‘ç»œè¯·æ±‚å·¥å…·å®Œå–„ï¼ˆéœ€è¦è§£å†³Dioä¾èµ–é—®é¢˜ï¼‰
- [ ] RiverpodçŠ¶æ€ç®¡ç†å®Œå–„ï¼ˆéœ€è¦è§£å†³ä¾èµ–é—®é¢˜ï¼‰
- [ ] é¡µé¢åŠŸèƒ½å®ç°
- [ ] æ ·å¼å’ŒUIä¼˜åŒ–
- [ ] æµ‹è¯•ç”¨ä¾‹ç¼–å†™

### âš ï¸ å½“å‰é—®é¢˜
1. **ä¾èµ–é—®é¢˜**: éƒ¨åˆ†ç¬¬ä¸‰æ–¹åº“å­˜åœ¨ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜
2. **ç¼–è¯‘é”™è¯¯**: éœ€è¦è§£å†³Matrix4ç­‰ç±»å‹é”™è¯¯
3. **åŠŸèƒ½å®ç°**: é¡µé¢ç›®å‰åªæœ‰åŸºç¡€æ¡†æ¶ï¼Œéœ€è¦å®ç°å…·ä½“åŠŸèƒ½

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **è§£å†³ä¾èµ–é—®é¢˜**: æ›´æ–°pubspec.yamlï¼Œç¡®ä¿æ‰€æœ‰ä¾èµ–åº“æ­£å¸¸å·¥ä½œ
2. **å®Œå–„åŸºç¡€åŠŸèƒ½**: å®ç°ç½‘ç»œè¯·æ±‚å’ŒçŠ¶æ€ç®¡ç†
3. **å¼€å‘æ ¸å¿ƒé¡µé¢**: ä»é¦–é¡µå¼€å§‹ï¼Œé€æ­¥å®ç°å„ä¸ªåŠŸèƒ½é¡µé¢
4. **UIä¼˜åŒ–**: æ ¹æ®åŸVueé¡¹ç›®çš„è®¾è®¡ï¼Œä¼˜åŒ–Flutter UI
5. **åŠŸèƒ½æµ‹è¯•**: ç¡®ä¿å„ä¸ªåŠŸèƒ½æ­£å¸¸å·¥ä½œ

## ğŸ“š å­¦ä¹ å»ºè®®

å»ºè®®æ‚¨æŒ‰ä»¥ä¸‹é¡ºåºå­¦ä¹ å’Œå¼€å‘ï¼š

1. **ç†Ÿæ‚‰é¡¹ç›®ç»“æ„**: ç†è§£æ¯ä¸ªç›®å½•çš„ä½œç”¨
2. **å­¦ä¹ æ•°æ®æ¨¡å‹**: äº†è§£å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨Dartç±»
3. **æŒæ¡çŠ¶æ€ç®¡ç†**: å­¦ä¹ Riverpodçš„åŸºæœ¬ç”¨æ³•
4. **å®ç°ç®€å•é¡µé¢**: ä»é™æ€UIå¼€å§‹
5. **é›†æˆAPIè°ƒç”¨**: å­¦ä¹ ç½‘ç»œè¯·æ±‚å’Œæ•°æ®å¤„ç†
6. **å®Œå–„ç”¨æˆ·äº¤äº’**: æ·»åŠ è¡¨å•å¤„ç†å’Œç”¨æˆ·åé¦ˆ

è¿™ä¸ªæ¶æ„ä¸ºæ‚¨çš„å­¦ä¹ å’Œå¼€å‘æä¾›äº†è‰¯å¥½çš„åŸºç¡€ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šé€æ­¥å®ç°å®Œæ•´çš„é€é›æ’ç¨‹åº”ç”¨ã€‚